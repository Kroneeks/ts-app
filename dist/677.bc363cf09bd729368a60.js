"use strict";(self.webpackChunkfloristby=self.webpackChunkfloristby||[]).push([[677],{6805:function(e,t,a){a.d(t,{D0:function(){return ae},wD:function(){return S},$B:function(){return h.$B},xT:function(){return de},Iq:function(){return h.Iq},XL:function(){return d},GA:function(){return h.GA},Vv:function(){return oe},wq:function(){return P}});var r=a(3007),s=a(1072),n=a(7294),i={Tabs:"bXYDRoXv"},c=a(6425),l=a(5893);const o=(0,n.memo)((e=>{const{className:t="",tabs:a,onTabClick:s,value:o}=e,h=(0,n.useCallback)((e=>()=>{s(e)}),[s]);return(0,l.jsx)("div",{className:(0,r.A)(i.Tabs,{},[t]),children:a.map((e=>(0,l.jsx)(c.Z,{className:i.tab,theme:e.value===o?c.r.NORMAL:c.r.OUTLINED,onClick:h(e),children:e.content},e.value)))})}));o.displayName="Tabs";var h=a(7113);const d=(0,n.memo)((e=>{const{className:t="",value:a,onChangeType:i}=e,{t:c}=(0,s.$G)("article"),d=(0,n.useMemo)((()=>[{value:h.Iq.ALL,content:c("Все статьи")},{value:h.Iq.IT,content:c("Айти")},{value:h.Iq.ECONOMICS,content:c("Экономика")},{value:h.Iq.SCIENCE,content:c("Наука")}]),[c]),v=(0,n.useCallback)((e=>{i(e.value)}),[i]);return(0,l.jsx)(o,{className:(0,r.A)("",{},[t]),tabs:d,value:a,onTabClick:v})}));d.displayName="ArticleTypeTabs";var v,m,u={BLOCK:"aaeYDeSq",card:"I6tD17AJ",LIST:"u7NJuMjl",itemsWrapper:"mItkaw0h",ItemContainer:"ws7sKKBc"},g={LIST:"cbg6jpk8",date:"gzcu7DmY",views:"Loz2hfru",header:"dwZR2QFa",username:"qqjY3IRX",title:"gvCBzE5L",img:"trLYSQ7F",footer:"sXa5L34T",textBlock:"JGwHSPVM",BLOCK:"J5uzMtGj",imageWrapper:"dOeIdIHt",infoWrapper:"sm3cbRbR",types:"ZhtaCnW5"},x=a(1715),p=a(3895);function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},f.apply(this,arguments)}var j=e=>n.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",width:800,height:800,fill:"none",viewBox:"0 0 24 24"},e),v||(v=n.createElement("path",{d:"M12 8.25a3.75 3.75 0 1 0 0 7.5 3.75 3.75 0 0 0 0-7.5ZM9.75 12a2.25 2.25 0 1 1 4.5 0 2.25 2.25 0 0 1-4.5 0Z",clipRule:"evenodd"})),m||(m=n.createElement("path",{d:"M12 3.25c-4.514 0-7.555 2.704-9.32 4.997l-.031.041c-.4.519-.767.996-1.016 1.56-.267.605-.383 1.264-.383 2.152 0 .888.116 1.547.383 2.152.25.564.617 1.042 1.016 1.56l.032.041C4.445 18.046 7.486 20.75 12 20.75c4.514 0 7.555-2.704 9.32-4.997l.031-.041c.4-.518.767-.996 1.016-1.56.267-.605.383-1.264.383-2.152 0-.888-.116-1.547-.383-2.152-.25-.564-.617-1.041-1.016-1.56l-.032-.041C19.555 5.954 16.514 3.25 12 3.25ZM3.87 9.162C5.498 7.045 8.15 4.75 12 4.75c3.85 0 6.501 2.295 8.13 4.412.44.57.696.91.865 1.292.158.358.255.795.255 1.546s-.097 1.188-.255 1.546c-.169.382-.426.722-.864 1.292C18.5 16.955 15.85 19.25 12 19.25c-3.85 0-6.501-2.295-8.13-4.412-.44-.57-.696-.91-.865-1.292-.158-.358-.255-.795-.255-1.546s.097-1.188.255-1.546c.169-.382.426-.722.864-1.292Z",clipRule:"evenodd"}))),N=a(2949),w=a(5255),A={title:"BHmndKmm",paragraph:"tLIzh4YH"};const y=(0,n.memo)((e=>{let{className:t="",block:a}=e;return(0,l.jsxs)("div",{className:(0,r.A)(A.ArticleTextBlockComponent,{},[t]),children:[a.title&&(0,l.jsx)(x.xv,{title:a.title,className:A.title}),a.paragraphs.map(((e,t)=>(0,l.jsx)(x.xv,{text:e,className:A.paragraph},e)))]})}));y.displayName="ArticleTextBlockComponent";var Z=a(6478),C=a(6897),O=a(1283);const b=(0,n.memo)((e=>{const{className:t="",article:a,view:n,target:i="_blank",index:o}=e,{t:d}=(0,s.$G)("article"),v=(0,l.jsx)(x.xv,{text:a.type.join(", "),className:g.types}),m=(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(x.xv,{text:String(a.views),className:g.views}),(0,l.jsx)(p.JO,{Svg:j})]}),u=()=>{o&&sessionStorage.setItem(O.hu,JSON.stringify(o))};if(n===h.GA.LIST){const e=a.blocks.find((e=>e.type===h.Lk.TEXT));return(0,l.jsx)("div",{className:(0,r.A)(g.ArticleListItem,{},[t,g[n]]),children:(0,l.jsxs)(c.Z,{className:g.card,children:[(0,l.jsxs)("div",{className:g.header,children:[(0,l.jsx)(N.q,{src:a.user?.avatar??""}),(0,l.jsx)(x.xv,{text:a.user.username,className:g.username}),(0,l.jsx)(x.xv,{text:a.createdAt,className:g.date})]}),(0,l.jsx)(x.xv,{title:a.title,className:g.title}),v,(0,l.jsx)("img",{src:a.img,className:g.img,alt:a.title}),e&&(0,l.jsx)(y,{block:e,className:g.textBlock}),(0,l.jsxs)("div",{className:g.footer,children:[(0,l.jsx)(C.F,{to:Z.h3.articleDetails+a.id,target:i,children:(0,l.jsx)(w.zx,{theme:w.bn.OUTLINE,onClick:u,children:d("Читать далее")})}),m]})]})})}return(0,l.jsx)(C.F,{to:Z.h3.articleDetails+a.id,className:(0,r.A)(g.ArticleListItem,{},[t,g[n]]),target:i,onClick:u,children:(0,l.jsxs)(c.Z,{children:[(0,l.jsxs)("div",{className:g.imageWrapper,children:[(0,l.jsx)("img",{src:a.img,alt:a.title,className:g.img}),(0,l.jsx)(x.xv,{text:a.createdAt,className:g.date})]}),(0,l.jsxs)("div",{className:g.infoWrapper,children:[v,m]}),(0,l.jsx)(x.xv,{text:a.title,className:g.title})]})})}));b.displayName="ArticleListItem";var L=a(3312);const E=(0,n.memo)((e=>{const{className:t="",view:a}=e;return a===h.GA.LIST?(0,l.jsx)("div",{className:(0,r.A)(g.ArticleListItem,{},[t,g[a]]),children:(0,l.jsxs)(c.Z,{className:g.card,children:[(0,l.jsxs)("div",{className:g.header,children:[(0,l.jsx)(L.O,{borderR:"50%",height:70,width:70}),(0,l.jsx)(L.O,{width:150,height:16,className:g.username}),(0,l.jsx)(L.O,{width:150,height:16,className:g.date})]}),(0,l.jsx)(L.O,{width:250,height:32,className:g.title}),(0,l.jsx)(L.O,{width:250,height:24,className:g.title}),(0,l.jsx)(L.O,{height:250,className:g.img}),(0,l.jsx)(L.O,{height:204,className:g.img}),(0,l.jsx)("div",{className:g.footer,children:(0,l.jsx)(L.O,{width:200,height:46})})]})}):(0,l.jsx)("div",{className:(0,r.A)(g.ArticleListItem,{},[t,g[a]]),children:(0,l.jsxs)(c.Z,{children:[(0,l.jsx)("div",{className:g.imageWrapper,children:(0,l.jsx)(L.O,{width:200,height:200,className:g.img})}),(0,l.jsx)("div",{className:g.infoWrapper,children:(0,l.jsx)(L.O,{width:130,height:16})}),(0,l.jsx)(L.O,{width:150,height:16,className:g.title})]})})}));E.displayName="ArticleListItem";var I=a(6246);const S=e=>{const{className:t="",articles:a,isLoading:i,view:c=h.GA.BLOCK,target:o="_blank",onLoadNextPart:d,virtualized:v=!1}=e,{t:m}=(0,s.$G)("article"),[g,p]=(0,n.useState)(1),f=(0,n.useRef)(null);function j(e){return void 0!==e?new Array(e===h.GA.BLOCK?9:3).fill(0).map(((t,a)=>(0,l.jsx)(E,{view:e},a))):new Array(3).fill(0).map(((e,t)=>(0,l.jsx)(E,{view:h.GA.LIST,className:u.card},t)))}(0,n.useEffect)((()=>{const e=sessionStorage.getItem(O.hu)??1;p(+e)}),[]),(0,n.useEffect)((()=>{let e;return"BLOCK"===c&&(e=setTimeout((()=>{f.current&&f.current.scrollToIndex(g)}),100)),()=>{clearTimeout(e)}}),[g,c]);const N=(e,t)=>(0,l.jsx)(b,{className:u.card,index:e,article:t,view:c,target:o},t.id),w=(0,n.memo)((()=>{if(i)return(0,l.jsx)("div",{className:u.skeleton,children:j()})}));if(w.displayName="Footer",!i&&!a.length)return(0,l.jsx)("div",{className:(0,r.A)(u.ArticleList,{},[t,u[c]]),children:(0,l.jsx)(x.xv,{title:m("Статьи не найдены")})});const A=(0,l.jsx)(I.OO,{data:a,itemContent:N,endReached:d,initialTopMostItemIndex:g,components:{Footer:w},style:{width:"100%"}}),y=(0,l.jsx)(I.Mr,{data:a,itemContent:N,endReached:d,totalCount:a.length,components:{ScrollSeekPlaceholder:e=>{let{height:t,width:a,index:r}=e;return(0,l.jsx)("div",{className:u.ItemContainer,children:(0,l.jsx)(E,{view:c,className:u.card},r)})}},listClassName:u.itemsWrapper,scrollSeekConfiguration:{enter:e=>Math.abs(e)>700,exit:e=>Math.abs(e)<30},style:{width:"100%"}});return v?(0,l.jsx)("div",{className:(0,r.A)(u.ArticleList,{},[t,u[c]]),children:"LIST"===c?A:y}):(0,l.jsxs)("div",{className:(0,r.A)(u.ArticleList,{},[t,u[c]]),children:[a.length>0?a.map((e=>(0,l.jsx)(b,{article:e,view:c,target:o},e.id))):null,i&&j(c)]})};var T=a(1233),k=a(4268);const M=(0,k.hg)("articleDetails/fetchArticleById",(async(e,t)=>{const{extra:a,rejectWithValue:r}=t;try{if(!e)throw new Error("");const t=await a.api.get(`/articles/${e}`,{params:{_expand:"user"}});if(!t.data)throw new Error;return t.data}catch(e){return r("error")}})),_=(0,k.oM)({name:"articleDetails",initialState:{isLoading:!1,error:void 0,data:void 0},reducers:{},extraReducers:e=>{e.addCase(M.pending,(e=>{e.error=void 0,e.isLoading=!0})),e.addCase(M.fulfilled,((e,t)=>{e.isLoading=!1,e.data=t.payload})),e.addCase(M.rejected,((e,t)=>{e.isLoading=!1,e.error=t.payload}))}}),{actions:H}=_,{reducer:V}=_;var R=a(5401),B=a(743);const P=e=>e.articleDetails?.data,D=e=>e.articleDetails?.error,G=e=>e.articleDetails?.isLoading??!1;var W,$={avatar:"WDmBKEor",avatarWrapper:"a1QkiB5u",icon:"KUWbT9GB"};function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},q.apply(this,arguments)}var z,K,J=e=>n.createElement("svg",q({xmlns:"http://www.w3.org/2000/svg",fill:"none","aria-hidden":"true",className:"calendar_svg__w-6 calendar_svg__h-6 calendar_svg__text-gray-800 calendar_svg__dark:text-white",viewBox:"0 0 20 20"},e),W||(W=n.createElement("path",{d:"M6 1a1 1 0 0 0-2 0h2ZM4 4a1 1 0 0 0 2 0H4Zm7-3a1 1 0 1 0-2 0h2ZM9 4a1 1 0 1 0 2 0H9Zm7-3a1 1 0 1 0-2 0h2Zm-2 3a1 1 0 1 0 2 0h-2ZM1 6a1 1 0 0 0 0 2V6Zm18 2a1 1 0 1 0 0-2v2ZM5 11v-1H4v1h1Zm0 .01H4v1h1v-1Zm.01 0v1h1v-1h-1Zm0-.01h1v-1h-1v1ZM10 11v-1H9v1h1Zm0 .01H9v1h1v-1Zm.01 0v1h1v-1h-1Zm0-.01h1v-1h-1v1ZM10 15v-1H9v1h1Zm0 .01H9v1h1v-1Zm.01 0v1h1v-1h-1Zm0-.01h1v-1h-1v1ZM15 15v-1h-1v1h1Zm0 .01h-1v1h1v-1Zm.01 0v1h1v-1h-1Zm0-.01h1v-1h-1v1ZM15 11v-1h-1v1h1Zm0 .01h-1v1h1v-1Zm.01 0v1h1v-1h-1Zm0-.01h1v-1h-1v1ZM5 15v-1H4v1h1Zm0 .01H4v1h1v-1Zm.01 0v1h1v-1h-1Zm0-.01h1v-1h-1v1ZM2 4h16V2H2v2Zm16 0h2a2 2 0 0 0-2-2v2Zm0 0v14h2V4h-2Zm0 14v2a2 2 0 0 0 2-2h-2Zm0 0H2v2h16v-2ZM2 18H0a2 2 0 0 0 2 2v-2Zm0 0V4H0v14h2ZM2 4V2a2 2 0 0 0-2 2h2Zm2-3v3h2V1H4Zm5 0v3h2V1H9Zm5 0v3h2V1h-2ZM1 8h18V6H1v2Zm3 3v.01h2V11H4Zm1 1.01h.01v-2H5v2Zm1.01-1V11h-2v.01h2Zm-1-1.01H5v2h.01v-2ZM9 11v.01h2V11H9Zm1 1.01h.01v-2H10v2Zm1.01-1V11h-2v.01h2Zm-1-1.01H10v2h.01v-2ZM9 15v.01h2V15H9Zm1 1.01h.01v-2H10v2Zm1.01-1V15h-2v.01h2Zm-1-1.01H10v2h.01v-2ZM14 15v.01h2V15h-2Zm1 1.01h.01v-2H15v2Zm1.01-1V15h-2v.01h2Zm-1-1.01H15v2h.01v-2ZM14 11v.01h2V11h-2Zm1 1.01h.01v-2H15v2Zm1.01-1V11h-2v.01h2Zm-1-1.01H15v2h.01v-2ZM4 15v.01h2V15H4Zm1 1.01h.01v-2H5v2Zm1.01-1V15h-2v.01h2Zm-1-1.01H5v2h.01v-2Z"})));function F(){return F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},F.apply(this,arguments)}var Y=e=>n.createElement("svg",F({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"copy_svg__w-6 copy_svg__h-6 copy_svg__text-gray-800 copy_svg__dark:text-white",viewBox:"0 0 18 20"},e),z||(z=n.createElement("path",{d:"M5 9V4.13a2.96 2.96 0 0 0-1.293.749L.879 7.707A2.96 2.96 0 0 0 .13 9H5Zm11.066-9H9.829a2.98 2.98 0 0 0-2.122.879L7 1.584A.987.987 0 0 0 6.766 2h4.3A3.972 3.972 0 0 1 15 6v10h1.066A1.97 1.97 0 0 0 18 14V2a1.97 1.97 0 0 0-1.934-2Z"})),K||(K=n.createElement("path",{d:"M11.066 4H7v5a2 2 0 0 1-2 2H0v7a1.969 1.969 0 0 0 1.933 2h9.133A1.97 1.97 0 0 0 13 18V6a1.97 1.97 0 0 0-1.934-2Z"})));const X=e=>{const{className:t="",text:a}=e,s=(0,n.useCallback)((()=>{navigator.clipboard.writeText(a)}),[a]);return(0,l.jsxs)("pre",{className:(0,r.A)("EGVBrTRk",{},[t]),children:[(0,l.jsx)(w.zx,{onClick:s,className:"x9B5cNnv",theme:w.bn.CLEAR,children:(0,l.jsx)(p.JO,{Svg:Y})}),(0,l.jsx)("code",{children:a})]})},Q=(0,n.memo)((e=>{const{className:t="",block:a}=e;return(0,l.jsx)("div",{className:(0,r.A)("OpzK0VPf",{},[t]),children:(0,l.jsx)(X,{text:a.code})})}));Q.displayName="ArticleCodeBlockComponent";const U=(0,n.memo)((e=>{const{className:t="",block:a}=e;return(0,l.jsxs)("div",{className:(0,r.A)("qeyWCkOB",{},[t]),children:[(0,l.jsx)("img",{src:a.src,className:"Pr2NTJfR",alt:a.title}),a.title&&(0,l.jsx)(x.xv,{text:a.title,align:x.PH.CENTER})]})}));U.displayName="ArticleImageBlockComponent";var ee=a(8519);const te={articleDetails:V},ae=(0,n.memo)((e=>{const{t:t}=(0,s.$G)("article-details"),{className:a="",id:i}=e,c=(0,R.T)(),o=(0,B.v9)(G),d=(0,B.v9)(D),v=(0,B.v9)(P),m=(0,n.useCallback)((e=>{switch(e.type){case h.Lk.CODE:return(0,l.jsx)(Q,{className:$.block,block:e},e.id);case h.Lk.IMAGE:return(0,l.jsx)(U,{className:$.block,block:e},e.id);case h.Lk.TEXT:return(0,l.jsx)(y,{className:$.block,block:e},e.id);default:return null}}),[]);let u;return(0,n.useEffect)((()=>{c(M(i))}),[c,i]),u=o?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(L.O,{className:$.avatar,width:200,height:200,borderR:"50%"}),(0,l.jsx)(L.O,{className:$.title,width:300,height:32}),(0,l.jsx)(L.O,{className:$.skeleton,width:600,height:24}),(0,l.jsx)(L.O,{className:$.skeleton,width:"100%",height:200}),(0,l.jsx)(L.O,{className:$.skeleton,width:"100%",height:200})]}):d?(0,l.jsx)(x.xv,{theme:x.lg.ERROR,title:t("Произошла ошибка при загрузке статьи"),align:x.PH.CENTER,text:d}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ee.U,{justify:"center",max:!0,className:$.avatarWrapper,children:(0,l.jsx)(N.q,{size:N.D.LARGE,src:v?.img??"",className:$.avatar})}),(0,l.jsxs)(ee.g,{gap:"4",max:!0,children:[(0,l.jsx)(x.xv,{title:v?.title,text:v?.subtitle}),(0,l.jsxs)(ee.U,{gap:"8",className:$.articleInfo,children:[(0,l.jsx)(p.JO,{Svg:j}),(0,l.jsx)(x.xv,{size:x.yH.S,text:String(v?.views)})]}),(0,l.jsxs)(ee.U,{gap:"8",className:$.articleInfo,children:[(0,l.jsx)(p.JO,{Svg:J}),(0,l.jsx)(x.xv,{size:x.yH.S,text:v?.createdAt})]})]}),v?.blocks.map(m)]}),(0,l.jsx)(T.W,{reducers:te,removeAfterUnmount:!0,children:(0,l.jsx)(ee.g,{gap:"16",max:!0,className:(0,r.A)($.ArticleDetails,{},[a]),children:u})})}));ae.displayName="ArticleDetails";var re,se={notSelected:"a0vVlVuW"};function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ne.apply(this,arguments)}var ie;function ce(){return ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ce.apply(this,arguments)}const le=[{view:h.GA.LIST,icon:e=>n.createElement("svg",ne({xmlns:"http://www.w3.org/2000/svg",width:800,height:800,className:"list_svg__icon",viewBox:"0 0 1024 1024"},e),re||(re=n.createElement("path",{d:"M64 192h896v76.8H64V192zm0 281.6h896v76.8H64v-76.8zm0 281.6h896V832H64v-76.8z"})))},{view:h.GA.BLOCK,icon:e=>n.createElement("svg",ce({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"tiled_svg__w-6 tiled_svg__h-6 tiled_svg__text-gray-800 tiled_svg__dark:text-white",viewBox:"0 0 18 18"},e),ie||(ie=n.createElement("path",{d:"M6.143 0H1.857A1.857 1.857 0 0 0 0 1.857v4.286C0 7.169.831 8 1.857 8h4.286A1.857 1.857 0 0 0 8 6.143V1.857A1.857 1.857 0 0 0 6.143 0Zm10 0h-4.286A1.857 1.857 0 0 0 10 1.857v4.286C10 7.169 10.831 8 11.857 8h4.286A1.857 1.857 0 0 0 18 6.143V1.857A1.857 1.857 0 0 0 16.143 0Zm-10 10H1.857A1.857 1.857 0 0 0 0 11.857v4.286C0 17.169.831 18 1.857 18h4.286A1.857 1.857 0 0 0 8 16.143v-4.286A1.857 1.857 0 0 0 6.143 10Zm10 0h-4.286A1.857 1.857 0 0 0 10 11.857v4.286c0 1.026.831 1.857 1.857 1.857h4.286A1.857 1.857 0 0 0 18 16.143v-4.286A1.857 1.857 0 0 0 16.143 10Z"})))}],oe=(0,n.memo)((e=>{const{className:t="",view:a,onViewClick:s}=e;return(0,l.jsx)("div",{className:(0,r.A)(se.ArticleViewSelector,{},[t]),children:le.map((e=>{return(0,l.jsx)(w.zx,{theme:w.bn.CLEAR,onClick:(t=e.view,()=>{s?.(t)}),children:(0,l.jsx)(p.JO,{Svg:e.icon,className:(0,r.A)("",{[se.notSelected]:e.view!==a},[])})},e.view);var t}))})}));oe.displayName="ArticleViewSelector";const he=e=>{const{className:t="",label:a="",value:s,options:i,readonly:c=!0,onChange:o}=e,h=(0,n.useMemo)((()=>i?.map((e=>(0,l.jsx)("option",{className:"JkXz98qY",value:e.value,children:e.content},e.value)))),[i]);return(0,l.jsxs)("div",{className:(0,r.A)("cidfdn6H",{},[t]),children:[a&&(0,l.jsx)("span",{className:"G1uuf7Bp",children:a}),(0,l.jsx)("select",{className:"VOKOuKGo",value:s,onChange:e=>{o&&o?.(e.target.value)},disabled:c,children:h})]})},de=(0,n.memo)((e=>{const{className:t="",sort:a,order:i,onChangeOrder:c,onChangeSort:o}=e,{t:d}=(0,s.$G)(),v=(0,n.useMemo)((()=>[{value:"asc",content:d("возрастанию")},{value:"desc",content:d("убыванию")}]),[d]),m=(0,n.useMemo)((()=>[{value:h.$B.CREATED,content:d("дате создания")},{value:h.$B.TITLE,content:d("названию")},{value:h.$B.VIEWS,content:d("просмотрам")}]),[d]);return(0,l.jsxs)("div",{className:(0,r.A)("gSPXPxAR",{},[t]),children:[(0,l.jsx)(he,{options:m,label:d("Сортировать ПО"),readonly:!1,value:a,onChange:o}),(0,l.jsx)(he,{options:v,label:d("по"),readonly:!1,value:i,onChange:c})]})}));de.displayName="ArticleSortSelector"},7113:function(e,t,a){a.d(t,{$B:function(){return r},GA:function(){return i},Iq:function(){return s},Lk:function(){return n}});let r=function(e){return e.VIEWS="views",e.TITLE="title",e.CREATED="createdAt",e}({}),s=function(e){return e.ALL="ALL",e.IT="IT",e.SCIENCE="SCIENCE",e.ECONOMICS="ECONOMICS",e}({}),n=function(e){return e.TEXT="TEXT",e.CODE="CODE",e.IMAGE="IMAGE",e}({}),i=function(e){return e.BLOCK="BLOCK",e.LIST="LIST",e}({})},2255:function(e,t,a){a.d(t,{$4:function(){return i},F_:function(){return l},Fy:function(){return d},J$:function(){return o},Jy:function(){return n},Qm:function(){return v},YY:function(){return c},kL:function(){return h},os:function(){return m},sl:function(){return u},u5:function(){return s}});var r=a(6805);const s=e=>e.articlesPage?.isLoading??!1,n=e=>e.articlesPage?.error??"",i=e=>e.articlesPage?.view??r.GA.BLOCK,c=e=>e.articlesPage?.page??1,l=e=>e.articlesPage?.limit??9,o=e=>e.articlesPage?.hasMore??!0,h=e=>e.articlesPage?._inited??!1,d=e=>e.articlesPage?.order??"asc",v=e=>e.articlesPage?.sort??r.$B.CREATED,m=e=>e.articlesPage?.search??"",u=e=>e.articlesPage?.type??r.Iq.ALL},6388:function(e,t,a){a.d(t,{j:function(){return i}});var r=a(4268),s=a(6805),n=a(2255);const i=(0,r.hg)("articlesPage/fetchArticlesList",(async(e,t)=>{const{extra:a,rejectWithValue:r,getState:i}=t,c=(0,n.F_)(i()),l=(0,n.Qm)(i()),o=(0,n.Fy)(i()),h=(0,n.os)(i()),d=(0,n.YY)(i()),v=(0,n.sl)(i());try{m={sort:l,order:o,search:h,type:v},window.history.pushState(null,"",function(e){const t=new URLSearchParams(window.location.search);return Object.entries(e).forEach((e=>{let[a,r]=e;void 0!==r&&t.set(a,r)})),`?${t.toString()}`}(m));const e=await a.api.get("/articles",{params:{_expand:"user",_limit:c,_page:d,_sort:l,_order:o,q:h,type:v===s.Iq.ALL?void 0:v}});if(!e.data)throw new Error;return e.data}catch(e){return r("error")}var m}))},8834:function(e,t,a){a.d(t,{h:function(){return c}});var r=a(4268),s=a(2255),n=a(8218),i=a(6388);const c=(0,r.hg)("articlesPage/fetchNextArticlesPage",(async(e,t)=>{const{getState:a,dispatch:r}=t,c=(0,s.YY)(a()),l=(0,s.J$)(a()),o=(0,s.u5)(a());l&&!o&&(r(n.cf.setPage(c+1)),r((0,i.j)({})))}))},8218:function(e,t,a){a.d(t,{Q5:function(){return d},Zz:function(){return o},cf:function(){return v}});var r=a(4268),s=a(6805),n=a(6388),i=a(1283),c=a(7113);const l=(0,r.HF)({selectId:e=>e.id}),o=l.getSelectors((e=>e?.articlesPage??l.getInitialState())),h=(0,r.oM)({name:"articlesPageSlice",initialState:l.getInitialState({isLoading:!1,error:void 0,ids:[],entities:{},view:s.GA.BLOCK,page:1,hasMore:!0,_inited:!1,order:"asc",limit:5,sort:c.$B.CREATED,search:"",type:c.Iq.ALL}),reducers:{setView:(e,t)=>{e.view=t.payload,localStorage.setItem(i.J0,t.payload)},setPage:(e,t)=>{e.page=t.payload},setOrder:(e,t)=>{e.order=t.payload},setSort:(e,t)=>{e.sort=t.payload},setType:(e,t)=>{e.type=t.payload},setSearch:(e,t)=>{e.search=t.payload},initState:e=>{const t=localStorage.getItem(i.J0);e.view=t,e.limit=t===s.GA.LIST?4:9,e._inited=!0}},extraReducers:e=>{e.addCase(n.j.pending,((e,t)=>{e.error=void 0,e.isLoading=!0,t.meta.arg.replace&&l.removeAll(e)})),e.addCase(n.j.fulfilled,((e,t)=>{e.isLoading=!1,e.hasMore=t.payload.length>=e.limit,t.meta.arg.replace?l.setAll(e,t.payload):l.addMany(e,t.payload)})),e.addCase(n.j.rejected,((e,t)=>{e.isLoading=!1,e.error=t.payload}))}}),{reducer:d,actions:v}=h},9970:function(e,t,a){a.d(t,{Q:function(){return s}});var r=a(7294);function s(e){(0,r.useEffect)((()=>{e()}),[])}},1233:function(e,t,a){a.d(t,{W:function(){return c}});var r=a(7294),s=a(743),n=a(5401),i=a(5893);const c=e=>{const{children:t,reducers:a,removeAfterUnmount:c=!0}=e,l=(0,s.oR)(),o=(0,n.T)();return(0,r.useEffect)((()=>{const e=l.reducerManager.getMountedReducers();return Object.entries(a).forEach((t=>{let[a,r]=t;e[a]||(l.reducerManager.add(a,r),o({type:`@INIT ${a} reducer`}))})),()=>{c&&Object.entries(a).forEach((e=>{let[t,a]=e;l.reducerManager.remove(t),o({type:`@DESTROY ${t} reducer`})}))}}),[o,a,c,l.reducerManager]),(0,i.jsx)(i.Fragment,{children:t})}},8979:function(e,t,a){a.d(t,{T:function(){return d}});var r=a(3007),s=a(7294),n=a(5401),i=a(8183),c=a(9250),l=a(9970),o=a(743),h=a(5893);const d=(0,s.memo)((e=>{const{className:t="",children:a,onScrollEnd:d}=e,v=(0,s.useRef)(),m=(0,s.useRef)(),u=(0,n.T)(),{pathname:g}=(0,c.TH)(),x=(0,o.v9)((e=>(0,i.Qi)(e,g)));!function(e){let{callback:t,wrapperRef:a,triggerRef:r}=e;(0,s.useEffect)((()=>{let e=null;if(t){const s={root:a.current,rootMargin:"0px",threshold:1};return e=new IntersectionObserver((e=>{let[a]=e;a.isIntersecting&&t()}),s),e.observe(r.current),()=>{e&&r.current&&e.unobserve(r.current)}}}),[a,r,t])}({triggerRef:m,wrapperRef:v,callback:d}),(0,l.Q)((()=>{v.current.scrollTop=x}));const p=function(e,t){const a=(0,s.useRef)(!1);return(0,s.useCallback)((function(){a.current||(e(...arguments),a.current=!0,setTimeout((()=>{a.current=!1}),500))}),[e,500])}((e=>{u(i.Aw.setScrollPosition({position:e.currentTarget.scrollTop,path:g}))}));return(0,h.jsxs)("main",{ref:v,className:(0,r.A)("a83jDcrK",{},[t]),onScroll:p,children:[a,d?(0,h.jsx)("div",{className:"VaPQ__zP",ref:m}):null]})}));d.displayName="Page"}}]);
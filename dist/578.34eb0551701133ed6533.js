"use strict";(self.webpackChunkfloristby=self.webpackChunkfloristby||[]).push([[578],{7312:function(e,a,s){s.r(a),s.d(a,{default:function(){return T}});var t=s(7294),r=s(8218),c=s(1233),l=s(9970),n=s(5401),o=s(4268),i=s(2255),u=s(6388);const d=(0,o.hg)("articlesPage/initArticlesPage",(async(e,a)=>{const{getState:s,dispatch:t}=a;if(!(0,i.kL)(s())){const a=e.get("order"),s=e.get("sort"),c=e.get("search");a&&t(r.cf.setOrder(a)),s&&t(r.cf.setSort(s)),c&&t(r.cf.setSearch(c)),t(r.cf.initState()),t((0,u.j)({}))}}));var f=s(9655),m=s(3007),v={sortWrapper:"gpeOuN5x",search:"bEEsZGDy",tabs:"PRsfwRoW"},h=s(1072),g=s(6805),x=s(743),p=s(6425),N=s(8312),C=s(5893);const j=(0,t.memo)((e=>{const{className:a=""}=e,{t:s}=(0,h.$G)("article"),c=(0,n.T)(),l=(0,x.v9)(i.Qm),o=(0,x.v9)(i.Fy),d=(0,x.v9)(i.os),f=(0,x.v9)(i.sl),j=(0,t.useCallback)((()=>{c((0,u.j)({replace:!0}))}),[c]),y=function(e,a){const s=(0,t.useRef)();return(0,t.useCallback)((function(){for(var a=arguments.length,t=new Array(a),r=0;r<a;r++)t[r]=arguments[r];s.current&&clearTimeout(s.current),s.current=setTimeout((()=>{e(...t)}),500)}),[e,500])}(j),b=(0,t.useCallback)((e=>{c(r.cf.setView(e)),c(r.cf.setPage(1)),j()}),[c,j]),P=(0,t.useCallback)((e=>{c(r.cf.setOrder(e)),c(r.cf.setPage(1)),j()}),[c,j]),k=(0,t.useCallback)((e=>{c(r.cf.setSort(e)),c(r.cf.setPage(1)),j()}),[c,j]),A=(0,t.useCallback)((e=>{c(r.cf.setSearch(e)),c(r.cf.setPage(1)),y()}),[c,y]),w=(0,t.useCallback)((e=>{c(r.cf.setType(e)),c(r.cf.setPage(1)),j()}),[c,j]);return(0,C.jsxs)("div",{className:(0,m.A)(v.ArticlePageFilters,{},[a]),children:[(0,C.jsxs)("div",{className:v.sortWrapper,children:[(0,C.jsx)(g.xT,{order:o,sort:l,onChangeOrder:P,onChangeSort:k}),(0,C.jsx)(g.Vv,{view:g.GA.BLOCK,onViewClick:b})]}),(0,C.jsx)(p.Z,{className:v.search,children:(0,C.jsx)(N.I,{onChange:A,value:d,placeholder:s("Поиск")})}),(0,C.jsx)(g.XL,{value:f,onChangeType:w,className:v.tabs})]})}));j.displayName="ArticlePageFilters";var y=s(8979),b=s(1715);const P=(0,t.memo)((e=>{const{className:a="",onLoadNextPart:s,virtualized:t=!1}=e,{t:c}=(0,h.$G)("article"),l=(0,x.v9)(r.Zz.selectAll),n=(0,x.v9)(i.u5),o=(0,x.v9)(i.Jy),u=(0,x.v9)(i.$4);return o?(0,C.jsx)(b.xv,{theme:b.lg.ERROR,text:c("Произошла ошибка во время загрузки данных")}):(0,C.jsx)(g.wD,{view:u,isLoading:n,articles:l,className:a,onLoadNextPart:s,virtualized:t})}));P.displayName="ArticleInfiniteList";var k=s(8834);const A={articlesPage:r.Q5},w=(0,t.memo)((e=>{let{className:a=""}=e;const s=(0,n.T)(),[r]=(0,f.lr)();(0,l.Q)((()=>{s(d(r))}));const o=(0,t.useCallback)((()=>{s((0,k.h)())}),[s]);return(0,C.jsx)(c.W,{reducers:A,removeAfterUnmount:!1,children:(0,C.jsxs)(y.T,{onScrollEnd:o,className:"qHZ74rtG",children:[(0,C.jsx)(j,{}),(0,C.jsx)(P,{onLoadNextPart:o,className:"lzD_hlxE"})]})})}));w.displayName="ArticlePage";var T=w},8312:function(e,a,s){s.d(a,{I:function(){return l}});var t=s(3007),r=s(7294),c=s(5893);const l=(0,r.memo)((e=>{const{className:a="",value:s="",type:r="text",placeholder:l="",onChange:n,readonly:o=!1,"data-testid":i="",...u}=e,d={fTN1PnWu:o};return(0,c.jsx)("div",{className:(0,t.A)("X8EVbQ1x",d,[a]),children:(0,c.jsx)("input",{type:r,value:s,readOnly:o,onChange:e=>{n?.(e.target.value)},placeholder:l,...u})})}));l.displayName="Input"}}]);